<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Nguyen Quang Huy</title>
    <style>
        /* Add styles for the popup and form validation */
        /* Remove empty ruleset */
            /* Styles from the previous example */
        

        .error-message {
            color: red;
            margin-top: 5px;
        }
    </style>
</head>

<body>
    <form id="loginForm">
        <h1>Login</h1>
        <div class="Login-Field">
            <label>Username :</label>
            <input type="text" id="username">
            <div id="usernameError" class="error-message"></div>
        </div>
        
        <br>
        <div class="Login-Field">
            <label>Password :</label>
            <input type="password" id="password">
            <div id="passwordError" class="error-message"></div>
        </div>
        <div class="button-container">
            <button id="login-button">Login</button>
            <button id="signup-button" onclick="openSignupPopup()">Signup</button>
        </div>
    </form>
    <br>
    <div id="myModal" style="display: none; position: fixed; z-index: 1; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.4);">
        <!-- Modal Content -->
        <div style="background-color: #fefefe; margin: 15% auto; padding: 20px; border: 1px solid #888; width: 80%;">
          <span id="close" style="color: #aaa; float: right; font-size: 28px; font-weight: bold;">&times;</span>
          <h2>Signup Form</h2>
          <form id="sign-up-form">
            <label for="fname">First Name</label><br>
            <input type="text" id="fname" name="fname"><br>
            <label for="lname">Last Name</label><br>
            <input type="text" id="lname" name="lname"><br>
            <label for="email">Email</label><br>
            <input type="email" id="email" name="email"><br>
            <input type="submit" value="Submit">
          </form>
        </div>
      </div>
    <!-- Signup Popup and overlay, similar to the previous example -->
    <div id="error-popup" style="display: none; position: fixed; z-index: 1; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.4);">
        <!-- Modal Content -->
        <div style="background-color: #fefefe; margin: 15% auto; padding: 20px; border: 1px solid #888; width: 80%;">
          <span id="close" style="color: #aaa; float: right; font-size: 28px; font-weight: bold;">&times;</span>
          <h2>Invalid value</h2>
            <p>Please enter a valid username and password.</p>
        </div>
    </div>

    <script>
        function validateLoginForm() {
            let isValid = true;
            const username = document.getElementById("username").value.trim();
            // Validate username with regular expression
            const usernameError = document.getElementById("usernameError");
            const usernameRegex = /^.+$/; // Adjust the regex pattern as needed
            if (!usernameRegex.test(username)) {
                usernameError.textContent = "Invalid username format.";
                isValid = false;
            } else {
                usernameError.textContent = "";
            }

            // Validate password with regular expression
            const password = document.getElementById("password").value.trim();
            const passwordError = document.getElementById("passwordError");
            const passwordRegex = /^.+$/; // Requires at least 1 letter and 1 digit, adjust as needed
            if (!passwordRegex.test(password)) {
                passwordError.textContent = "Invalid password format.";
                isValid = false;
            } else {
                passwordError.textContent = "";
            }
            if (!isValid){
                document.getElementById('error-popup').style.display = "block";
            }
            return isValid;
        }
        
        function openSignupPopup() {
            document.getElementById('myModal').style.display = "block";
            }

        document.getElementById('close').onclick = function() {
            document.getElementById('myModal').style.display = "none";
            }
        // Attach event listeners
        document.getElementById("login-button").addEventListener("click", function() {
            if (validateLoginForm()) {
                // Perform login action
                alert("Login successful!");
                console.log("Login successful!");
            }
        });
    </script>
</body>
</html>
